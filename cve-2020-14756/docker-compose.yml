# CVE-2020-14756 - Oracle WebLogic Vulnerable Environment
#
# Usage:
#   docker-compose up -d
#   Wait for WebLogic to start (~2-3 minutes)
#   Access console: http://localhost:7001/console
#   Default credentials: weblogic / weblogic1
#
# Note: You may need to accept Oracle license at:
# https://container-registry.oracle.com
#
# Alternative: Use vulhub/weblogic image (no Oracle account needed)
#
# Author: princechaddha
# CVE: CVE-2020-14756

version: '3.8'

services:
  weblogic:
    image: vulhub/weblogic:12.2.1.3-2018
    container_name: weblogic-cve-2020-14756
    ports:
      - "7001:7001"
      - "7002:7002"
    environment:
      - DOMAIN_NAME=base_domain
      - ADMIN_NAME=AdminServer
      - ADMIN_USER=weblogic
      - ADMIN_PASSWORD=weblogic1
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:7001/console"]
      interval: 30s
      timeout: 10s
      retries: 5
      start_period: 120s

  # Alternative: Oracle official image (requires Oracle account)
  # weblogic-official:
  #   image: container-registry.oracle.com/middleware/weblogic:12.2.1.4-dev-ol8
  #   ports:
  #     - "7001:7001"
  #     - "7002:7002"

networks:
  default:
    name: weblogic-net
